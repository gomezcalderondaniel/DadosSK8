<!doctype html>
<html lang="en">
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Z67JGS280R"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-Z67JGS280R');
</script>

<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<title>Sk8 Dice</title>

<link rel="icon" href="favicon.ico" sizes="any">
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#f5eadb">

<style>
  :root {
    --bg-grad: linear-gradient(#fff, #f5eadb);
    --text-main: #2a1f0a;
    --bar-bg: white;
    --btn-body: #333;
    --btn-text: #fff;
    --shadow-color: rgba(0,0,0,0.08);
    --fade-edge: linear-gradient(to right, rgba(255,255,255,0), rgba(255,255,255,1));
  }

  [data-theme="dark"] {
    --bg-grad: linear-gradient(#2c2c2c, #1a1a1a);
    --text-main: #f5eadb;
    --bar-bg: #121212;
    --btn-body: #444;
    --btn-text: #f5eadb;
    --shadow-color: rgba(0,0,0,0.5);
    --fade-edge: linear-gradient(to right, rgba(18,18,18,0), rgba(18,18,18,1));
  }

  html, body {
    height: 100%;
    margin: 0;
    overflow: hidden;
    background: var(--bg-grad);
    font-family: "Courier New", "IBM Plex Mono", monospace;
    color: var(--text-main);
    transition: background 0.3s ease;
  }

  body { display: flex; flex-direction: column; text-align: center; }

  /* THEME TOGGLE */
  .theme-toggle {
    position: absolute;
    top: 20px;
    right: 20px;
    background: none;
    border: none;
    cursor: pointer;
    font-size: 24px;
    z-index: 100;
  }

  /* LOGO */
  .logo-name { margin-top: 16px; margin-bottom: -12px; }
  #appLogo { width: 130px; opacity: 0.95; }

  /* CONTENT */
  .app-content {
    flex: 1;
    display: flex;
    flex-direction: column;
    justify-content: center;
    padding-bottom: 20px;
  }

  /* 3D DICE */
  .dice-container {
    margin: 30px 20px;
    display: flex;
    justify-content: center;
    gap: 30px;
  }

  .dice-wrapper { perspective: 1000px; }

  .dice {
    width: 105px;
    height: 105px;
    position: relative;
    transform-style: preserve-3d;
    transition: transform 1.2s cubic-bezier(0.15, 1, 0.3, 1.1);
  }

  .face {
    position: absolute;
    width: 100%;
    height: 100%;
    background: url('https://as2.ftcdn.net/jpg/15/39/54/53/1000_F_1539545396_VECLyGy0YQk6wZcF4HvaHcXFvRAyCFTP.jpg');
    background-size: flex;
    border: 1.5px solid #4a341a;
    border-radius: 12px;
    box-shadow: inset 0 0 20px rgba(0,0,0,0.7);
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 14px;
    font-weight: bold;
    color: #eee;
    text-shadow: 1px 1px 2px #000;
    padding: 8px;
    box-sizing: border-box;
    backface-visibility: hidden;
    word-break: break-word;
  }

  .face.special-text {
    color: #ff4d4d !important;
    font-weight: 900 !important;
    text-shadow: 0px 0px 10px rgba(255, 77, 77, 0.5), 1px 1px 2px #000;
  }

  /* 105px / 2 = 52.5px */
  .front  { transform: rotateY(0deg) translateZ(52.5px); }
  .back   { transform: rotateY(180deg) translateZ(52.5px); }
  .right  { transform: rotateY(90deg) translateZ(52.5px); }
  .left   { transform: rotateY(-90deg) translateZ(52.5px); }
  .top    { transform: rotateX(90deg) translateZ(52.5px); }
  .bottom { transform: rotateX(-90deg) translateZ(52.5px); }

  /* SKATE BUTTON */
  .skate-btn {
    background: none;
    border: none;
    cursor: pointer;
    width: 180px;
    margin: 10px auto;
    transition: transform 0.1s ease;
  }
  .skate-btn:active { transform: scale(0.94); }
  .skate-btn rect { fill: var(--btn-body); transition: fill 0.3s; }
  .skate-btn text { fill: var(--btn-text); transition: fill 0.3s; }

  /* RESULT AREA */
  #resultText {
    font-size: 24px;
    font-weight: bold;
    white-space: pre-line;
    min-height: 70px;
    color: var(--text-main);
  }
  .red-alert { color: #ff4d4d; font-weight: 900; }
  .strikethrough { text-decoration: line-through; opacity: 0.5; font-size: 20px; }

  /* DIFFICULTY BAR WITH VISUAL CUES */
  .bottom-bar {
    background: var(--bar-bg);
    padding: 10px 0 30px;
    box-shadow: 0 -8px 25px var(--shadow-color);
    transition: background 0.3s;
    position: relative;
    overflow: hidden;
  }
  
  /* Scroll hint: the fading edge */
  .scroll-hint {
    position: absolute;
    right: 0;
    top: 0;
    bottom: 0;
    width: 50px;
    background: var(--fade-edge);
    z-index: 5;
    pointer-events: none;
    transition: opacity 0.3s;
  }

  .difficulty-bar { 
    display: flex; 
    gap: 12px; 
    overflow-x: auto; 
    padding: 15px 20px;
    scroll-snap-type: x mandatory;
    -webkit-overflow-scrolling: touch; 
    scrollbar-width: none; 
  }
  .difficulty-bar::-webkit-scrollbar { display: none; }

  .diff-btn {
    flex: 0 0 70px; /* Width set to ensure 'peek' on most mobile screens */
    height: 50px; 
    border-radius: 10px;
    background: url('https://as2.ftcdn.net/jpg/15/39/54/53/1000_F_1539545396_VECLyGy0YQk6wZcF4HvaHcXFvRAyCFTP.jpg');
    background-size: flex; 
    border: 2px solid #333; 
    color: #fff;
    font-size: 10px; 
    font-weight: bold; 
    cursor: pointer;
    transition: all 0.2s ease;
    filter: grayscale(0.7) brightness(0.7);
    scroll-snap-align: center;
    text-shadow: 1px 1px 1px #000;
  }
  
  .diff-btn.active {
    outline: 3px solid #ff4d4d;
    transform: translateY(-4px);
    filter: grayscale(0) brightness(1.1);
  }

  /* Pagination dots as a secondary cue */
  .scroll-dots {
    display: flex;
    justify-content: center;
    gap: 4px;
    margin-top: -5px;
  }
  .dot {
    width: 4px;
    height: 4px;
    border-radius: 50%;
    background: var(--text-main);
    opacity: 0.3;
  }
</style>
</head>

<body>

<button class="theme-toggle" onclick="toggleTheme()" id="themeIcon">ðŸŒ™</button>

<div class="logo-name">
  <img id="appLogo" src="Dados de SK8 LOGO.png" alt="Sk8 Dice Logo">
</div>

<div class="app-content">
  <div class="dice-container">
    <div class="dice-wrapper"><div id="dice1" class="dice"></div></div>
    <div class="dice-wrapper"><div id="dice2" class="dice"></div></div>
  </div>

  <button class="skate-btn" onclick="rollDice()">
    <svg viewBox="0 0 512 128" xmlns="http://www.w3.org/2000/svg">
      <rect x="64" y="0" width="384" height="128" rx="64"></rect>
      <circle cx="150" cy="40" r="6" fill="#111"></circle>
      <circle cx="180" cy="40" r="6" fill="#111"></circle>
      <circle cx="150" cy="88" r="6" fill="#111"></circle>
      <circle cx="180" cy="88" r="6" fill="#111"></circle>
      <circle cx="330" cy="40" r="6" fill="#111"></circle>
      <circle cx="360" cy="40" r="6" fill="#111"></circle>
      <circle cx="330" cy="88" r="6" fill="#111"></circle>
      <circle cx="360" cy="88" r="6" fill="#111"></circle>
      <text x="50%" y="50%" text-anchor="middle" dy=".35em" font-size="44" font-weight="bold">SKATE</text>
    </svg>
  </button>

  <div id="resultText">Roll the dice!</div>
</div>

<div class="bottom-bar">
  <div class="scroll-hint" id="fadeHint"></div>
  <div class="difficulty-bar" id="diffBar">
    <button class="diff-btn" onclick="setDifficulty('beginner', this)">BEG</button> 
    <button class="diff-btn active" onclick="setDifficulty('amateur', this)">AMT</button>
    <button class="diff-btn" onclick="setDifficulty('intermediate', this)">INT</button>
    <button class="diff-btn" onclick="setDifficulty('advanced', this)">ADV</button>
    <button class="diff-btn" onclick="setDifficulty('expert', this)">EXP</button>
    <button class="diff-btn" onclick="setDifficulty('pro', this)">PRO</button>
    <button class="diff-btn" onclick="setDifficulty('oldschool', this)">OLDSKL</button>
  </div>
  <div class="scroll-dots">
    <div class="dot"></div><div class="dot"></div><div class="dot"></div><div class="dot"></div><div class="dot"></div><div class="dot"></div><div class="dot"></div>
  </div>
</div>

<script>
const stanceFaces = ["Natural","Switch","Fakie","Nollie","Free","Go Again"];
const trickSets = {
  beginner: ["Ollie","FS 180","BS 180","Pivot","Nosemanual","Manual"],
  amateur: ["Kickflip","Heelflip","FS 180 Shuv","BS 180 Shuv","FS 180","BS 180"],
  intermediate: ["Varial Flip","Varial Heel","360 FS Shuv","360 BS Shuv","FS Bigspin","BS Bigspin"],
  advanced: ["360 Flip","Laser Flip","Hardflip","Inward Heel","FS 360","BS 360"],
  expert: ["Big Flip","Big Heel","360 FS Flip","360 BS Flip","Pressure Flip","Double Flip"],
  pro: ["360 FS Heel","360 BS Heel","Late Flip","Late Heelflip","Late FS Shuv","Late BS Shuv"],
  oldschool: ["FS 180 No-Comply","BS 180 No-Comply","Pressure Flip","Boneless","Primo","Fingerflip"]
};

let currentDifficulty = "amateur"; 
const faceClasses = ["front","back","right","left","top","bottom"];

// Manage Hint Visibility based on scroll position
const diffBar = document.getElementById('diffBar');
const fadeHint = document.getElementById('fadeHint');

diffBar.addEventListener('scroll', () => {
  const maxScroll = diffBar.scrollWidth - diffBar.clientWidth;
  // If we reach the end, hide the hint
  fadeHint.style.opacity = (diffBar.scrollLeft >= maxScroll - 5) ? "0" : "1";
});

function toggleTheme() {
  const body = document.body;
  const icon = document.getElementById('themeIcon');
  if (body.hasAttribute('data-theme')) {
    body.removeAttribute('data-theme');
    icon.textContent = 'ðŸŒ™';
  } else {
    body.setAttribute('data-theme', 'dark');
    icon.textContent = 'â˜€ï¸';
  }
}

function buildDice(id, faces) {
  const dice = document.getElementById(id);
  dice.innerHTML = "";
  faces.forEach((t, i) => {
    const f = document.createElement("div");
    f.className = "face " + faceClasses[i];
    if (t === "Go Again") f.classList.add("special-text");
    if (t.length > 12) f.style.fontSize = "11px";
    f.textContent = t;
    dice.appendChild(f);
  });
}

buildDice("dice1", stanceFaces);
buildDice("dice2", trickSets[currentDifficulty]);

function setDifficulty(level, btn) {
  currentDifficulty = level;
  buildDice("dice2", trickSets[level]);
  document.querySelectorAll(".diff-btn").forEach(b => b.classList.remove("active"));
  btn.classList.add("active");
  btn.scrollIntoView({ behavior: 'smooth', inline: 'center', block: 'nearest' });
}

function rollDice() {
  const r1 = Math.floor(Math.random() * 6);
  const r2 = Math.floor(Math.random() * 6);
  const xRot = (Math.floor(Math.random() * 4) + 3) * 360; 
  const yRot = (Math.floor(Math.random() * 4) + 3) * 360;
  const faceCoords = [{x:0,y:0},{x:0,y:180},{x:0,y:-90},{x:0,y:90},{x:-90,y:0},{x:90,y:0}];

  document.getElementById('dice1').style.transform = `rotateX(${faceCoords[r1].x + xRot}deg) rotateY(${faceCoords[r1].y + yRot}deg)`;
  document.getElementById('dice2').style.transform = `rotateX(${faceCoords[r2].x + yRot}deg) rotateY(${faceCoords[r2].y + xRot}deg)`;

  document.getElementById('resultText').textContent = "...";

  setTimeout(() => {
    const stanceResult = stanceFaces[r1];
    const trickResult = trickSets[currentDifficulty][r2];
    
    if (stanceResult === "Go Again") {
      document.getElementById('resultText').innerHTML = 
        `<span class="red-alert">${stanceResult}</span>\n<span class="strikethrough">${trickResult}</span>`;
    } else {
      document.getElementById('resultText').textContent = stanceResult + "\n" + trickResult;
    }
  }, 1200);
}
</script>
</body>
</html>
